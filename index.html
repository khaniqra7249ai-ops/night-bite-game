<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Night Bite Burger Catch</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
  text-align: center;
}
#game {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}
.burger {
  position: absolute;
  top: -60px;
  font-size: 8vw; /* screen width ke hisaab se size */
  max-font-size: 60px; /* zyada bada na ho */
  cursor: pointer;
}
#info {
  position: fixed;
  top: 10px;
  left: 10px;
  font-size: 4vw; /* responsive info text */
  max-font-size: 18px;
}
#overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  justify-content: center;
  align-items: center;
  flex-direction: column;
}
button {
  padding: 3vw 5vw; /* responsive button */
  font-size: 4vw;
  max-font-size: 16px;
  margin-top: 4vw;
  cursor: pointer;
}
.burger {
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
</style>
</head>
<body>

<div id="game">
  <div id="info">Caught: <span id="count">0</span> / 50</div>
</div>

<div id="overlay"></div>

<script>
let caught = 0;
let speed = 2000; // initial drop interval
let gameInterval;
const game = document.getElementById("game");
const countEl = document.getElementById("count");
const overlay = document.getElementById("overlay");

// Random discount code
function randomCode() {
  return "NB-" + Math.random().toString(36).substring(2,7).toUpperCase();
}

// Update drop speed based on caught burgers
function updateSpeed() {
  if (caught >= 40) speed = 600;
  else if (caught >= 30) speed = 800;
  else if (caught >= 20) speed = 1100;
  else if (caught >= 10) speed = 1500;

  clearInterval(gameInterval); // purana interval clear karo
  gameInterval = setInterval(dropBurger, speed); // naya interval set karo
}

// Drop one burger
function dropBurger() {
  const burger = document.createElement("div");
  burger.className = "burger";
  burger.innerText = "üçî";

  // Responsive size
  burger.style.fontSize = Math.min(window.innerWidth * 0.08, 60) + "px";
  burger.style.left = Math.random() * (window.innerWidth - 50) + "px";
  burger.style.top = "-60px";
  burger.style.touchAction = "manipulation"; // mobile fix
  game.appendChild(burger);

  // Burger fall speed
  let top = -60;
  let fallSpeed = 5 + caught * 0.3; 
  const fall = setInterval(() => {
    top += fallSpeed;
    burger.style.top = top + "px";

    if (top > window.innerHeight) {
      clearInterval(fall);
      endGame(false);
    }
  }, 20);

  // Catch burger
  function catchBurger(e) {
    e.preventDefault();
    clearInterval(fall);
    burger.remove();
    caught++;
    countEl.innerText = caught;
    updateSpeed(); 
    if (caught === 50) endGame(true);
  }

  burger.addEventListener("click", catchBurger);
  burger.addEventListener("touchstart", catchBurger);
}

// Start game
function startGame() {
  gameInterval = setInterval(dropBurger, speed);
}

function endGame(win) {
  clearInterval(gameInterval);
  overlay.style.display = "flex";
  if (win) {
    const code = randomCode();
    overlay.innerHTML = `
      <h1>üéâ YOU WON! üéâ</h1>
      <p>10% Discount Code:</p>
      <h2>${code}</h2>
      <a href="https://wa.me/917738628567?text=Hi%20Night%20Bite!%20I%20won%20the%2050%20Burger%20Challenge.%20My%20code%20is%20${code}%20and%20I%20want%20to%20order."
      target="_blank">
      <button>Order on WhatsApp</button></a>
    `;
  } else {
    overlay.innerHTML = `
      <h1>‚ùå GAME OVER</h1>
      <p>Try again to win 10% OFF üçî</p>
      <button onclick="location.reload()">Restart</button>
    `;
  }
}

// Start the game
startGame();
</script>

</body>
</html>